<section class="py-24 px-6 relative overflow-hidden" id="experience">
  
  <div class="max-w-4xl mx-auto relative">
    
    <div class="mb-16 relative z-10">
      <h2 class="text-4xl font-black mb-4 dark:text-white">Experience</h2>
      <p class="text-gray-600 dark:text-gray-400">My professional journey through the tech industry.</p>
    </div>

    <div #timeline class="absolute left-1/2 md:left-1/2 top-32 bottom-10 w-0.5 bg-gradient-to-b from-gray-200 via-gray-300 to-gray-200 dark:from-white/10 dark:via-white/20 dark:to-white/10 -translate-x-1/2 rounded-full"></div>

    <div class="space-y-12 relative z-10">
      
      <div *ngFor="let job of experiences; let i = index; let isEven = even; let isOdd = odd" 
           class="relative flex flex-col md:flex-row md:gap-8 items-center group">
        
        <div class="flex-1 w-full order-2 md:order-1" >
          
          <div #experienceCard *ngIf="isEven" class="bg-white dark:bg-[#2d2d2a] p-8 rounded-3xl rounded-tr-md shadow-elevation-1 border border-gray-100 dark:border-white/10 hover:shadow-elevation-2 transition-all ">
            <h3 class="text-xl font-bold text-tertiary">{{ job.role }}</h3>
            <h4 class="text-lg font-semibold mb-2 dark:text-white">{{ job.company }}</h4>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-4 inline-block bg-gray-100 dark:bg-white/10 px-2 py-1 rounded-md">{{ job.period }}</p>
            
            <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 list-none">
              <li *ngFor="let point of job.description">{{ point }}</li>
            </ul>

            <div class="mt-4 flex flex-wrap gap-2">
              <span *ngFor="let tag of job.tags" class="px-2 py-1 bg-tertiary-container dark:bg-tertiary/20 text-on-tertiary-container dark:text-tertiary-container rounded-md text-xs font-bold">{{ tag }}</span>
            </div>
          </div>

        </div>

        <div class="absolute left-4 md:left-1/2 -translate-x-1/2 w-6 h-6 rounded-full border-[3px] border-white dark:border-[#122017] shadow-md z-10 hidden md:flex items-center justify-center" 
             [ngClass]="job.dotColor">
           <div class="w-2 h-2 bg-black rounded-full"></div>
        </div>

        <div class="flex-1 w-full order-2 md:order-3">
          
          <div #experienceCard *ngIf="isOdd" class="bg-white dark:bg-[#2d2d2a] p-8 rounded-3xl rounded-tl-md shadow-elevation-1 border border-gray-100 dark:border-white/10 hover:shadow-elevation-2 transition-all ">
            <h3 class="text-xl font-bold text-tertiary">{{ job.role }}</h3>
            <h4 class="text-lg font-semibold mb-2 dark:text-white">{{ job.company }}</h4>
            <p class="text-sm text-gray-500 dark:text-gray-400 mb-4 inline-block bg-gray-100 dark:bg-white/10 px-2 py-1 rounded-md">{{ job.period }}</p>
            
            <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2 list-none">
              <li *ngFor="let point of job.description">{{ point }}</li>
            </ul>

            <div class="mt-4 flex flex-wrap gap-2">
              <span *ngFor="let tag of job.tags" class="px-2 py-1 bg-tertiary-container dark:bg-tertiary/20 text-on-tertiary-container dark:text-tertiary-container rounded-md text-xs font-bold">{{ tag }}</span>
            </div>
          </div>

        </div>

      </div>

    </div>
  </div>
</section>